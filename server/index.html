<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Radio WAV</title>
<style>
body { font-family: sans-serif; background:#111; color:#eee; }
progress { width: 100%; height: 20px; }
button { font-size: 16px; padding: 10px; }
</style>
</head>
<body>

<h1>üìª Radio WAV</h1>

<audio id="player" controls autoplay src="/audio"></audio>

<progress id="progress" value="0" max="1"></progress>

<p id="time">0 / 0</p>

<button onclick="skip()">‚è≠ Skip</button>

<script>
async function updateProgress() {
    const res = await fetch("/progress");
    const data = await res.json();

    document.getElementById("progress").value = data.position;
    document.getElementById("time").innerText =
        data.elapsed.toFixed(1) + " / " + data.duration.toFixed(1);
}

async function skip() {
    await fetch("/skip", { method: "POST" });
}

setInterval(updateProgress, 500);
</script>

</body>
</html>